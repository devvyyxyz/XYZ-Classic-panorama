name: Auto-Update Pack (Caller)

on:
  schedule:
    - cron: '0 12 * * *'
  workflow_dispatch:
    inputs:
      pack_version:
        description: Optional explicit pack version (e.g., 1.0.0)
        required: false
        type: string
      pack_dir:
        description: Relative path to pack root (contains assets/ and pack.mcmeta)
        required: false
        type: string
        default: '.'

jobs:
  update:
    uses: devvyyxyz/minecraft-pack-automation/.github/workflows/reusable-pack-update.yml@main
    with:
      modrinth_project_id: o85X8jsr
      pack_name: XYZ-Classic-Panorama
      pack_dir: ${{ inputs.pack_dir }}
      pack_version: ${{ inputs.pack_version }}
    secrets:
      MODRINTH_API_TOKEN: ${{ secrets.MODRINTH_API_TOKEN }}